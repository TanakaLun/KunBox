<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KunBox URL Scheme æµ‹è¯•é¡µé¢</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 28px;
        }

        .subtitle {
            color: #666;
            margin-bottom: 30px;
            font-size: 14px;
        }

        .test-section {
            margin-bottom: 25px;
        }

        .test-section h2 {
            color: #667eea;
            font-size: 18px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .test-section h2::before {
            content: "ğŸ”—";
            font-size: 20px;
        }

        .btn {
            display: block;
            width: 100%;
            padding: 15px 20px;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
            text-align: center;
            transition: transform 0.2s, box-shadow 0.2s;
            border: none;
            cursor: pointer;
            font-size: 16px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .info-box {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 25px;
        }

        .info-box p {
            color: #666;
            font-size: 14px;
            line-height: 1.6;
            margin-bottom: 8px;
        }

        .info-box p:last-child {
            margin-bottom: 0;
        }

        .code {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            color: #333;
            overflow-x: auto;
            margin-top: 8px;
            word-break: break-all;
        }

        .custom-form {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-top: 15px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            color: #333;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .form-group input {
            width: 100%;
            padding: 10px 12px;
            border: 2px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
            transition: border-color 0.2s;
        }

        .form-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .footer {
            text-align: center;
            color: #999;
            font-size: 12px;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸš€ KunBox URL Scheme æµ‹è¯•</h1>
        <p class="subtitle">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®æµ‹è¯•ä¸€é”®å¯¼å…¥è®¢é˜…åŠŸèƒ½</p>

        <div class="info-box">
            <p><strong>ğŸ“± ä½¿ç”¨æ–¹æ³•:</strong></p>
            <p>1. åœ¨ Android è®¾å¤‡ä¸Šè®¿é—®æ­¤é¡µé¢</p>
            <p>2. ç‚¹å‡»æµ‹è¯•æŒ‰é’®</p>
            <p>3. ç³»ç»Ÿä¼šæç¤ºé€‰æ‹©åº”ç”¨,é€‰æ‹© KunBox</p>
            <p>4. KunBox ä¼šè‡ªåŠ¨å¯åŠ¨å¹¶å¯¼å…¥è®¢é˜…</p>
        </div>

        <!-- åŸºç¡€æµ‹è¯• -->
        <div class="test-section">
            <h2>åŸºç¡€åŠŸèƒ½æµ‹è¯•</h2>

            <a href="singbox://install-config?url=https://example.com/api/v1/client/subscribe?token=test123" class="btn">
                æµ‹è¯• 1: åŸºæœ¬å¯¼å…¥ (singbox://)
            </a>
            <div class="code">singbox://install-config?url=https://example.com/api/v1/client/subscribe?token=test123</div>

            <a href="kunbox://install-config?url=https://example.com/sub" class="btn">
                æµ‹è¯• 2: kunbox:// scheme
            </a>
            <div class="code">kunbox://install-config?url=https://example.com/sub</div>
        </div>

        <!-- å‚æ•°æµ‹è¯• -->
        <div class="test-section">
            <h2>å‚æ•°åŠŸèƒ½æµ‹è¯•</h2>

            <a href="singbox://install-config?url=https://example.com/sub&name=æµ‹è¯•è®¢é˜…A" class="btn">
                æµ‹è¯• 3: è‡ªå®šä¹‰åç§°
            </a>
            <div class="code">singbox://install-config?url=https://example.com/sub&name=æµ‹è¯•è®¢é˜…A</div>

            <a href="singbox://install-config?url=https://example.com/sub&name=æœºåœºB&interval=24" class="btn">
                æµ‹è¯• 4: è‡ªåŠ¨æ›´æ–° (24å°æ—¶)
            </a>
            <div class="code">singbox://install-config?url=https://example.com/sub&name=æœºåœºB&interval=24</div>

            <a href="singbox://install-config?url=https%3A%2F%2Fexample.com%2Fapi%2Fv1%2Fclient%2Fsubscribe%3Ftoken%3Dtest123&name=%E6%B5%8B%E8%AF%95%E8%AE%A2%E9%98%85&interval=12" class="btn">
                æµ‹è¯• 5: URL ç¼–ç ç‰ˆæœ¬
            </a>
            <div class="code">singbox://install-config?url=https%3A%2F%2Fexample.com%2Fapi%2Fv1%2Fclient%2Fsubscribe%3Ftoken%3Dtest123&name=%E6%B5%8B%E8%AF%95%E8%AE%A2%E9%98%85&interval=12</div>
        </div>

        <!-- è‡ªå®šä¹‰æµ‹è¯• -->
        <div class="test-section">
            <h2>è‡ªå®šä¹‰æµ‹è¯•</h2>
            <div class="custom-form">
                <div class="form-group">
                    <label for="customUrl">è®¢é˜…åœ°å€:</label>
                    <input type="text" id="customUrl" placeholder="https://example.com/sub" value="https://example.com/sub">
                </div>
                <div class="form-group">
                    <label for="customName">é…ç½®åç§°:</label>
                    <input type="text" id="customName" placeholder="æˆ‘çš„è®¢é˜…" value="æˆ‘çš„è®¢é˜…">
                </div>
                <div class="form-group">
                    <label for="customInterval">è‡ªåŠ¨æ›´æ–°é—´éš” (å°æ—¶):</label>
                    <input type="number" id="customInterval" placeholder="24" value="24" min="0">
                </div>
                <button class="btn btn-secondary" onclick="testCustom()">
                    ğŸš€ æµ‹è¯•è‡ªå®šä¹‰é…ç½®
                </button>
            </div>
        </div>

        <div class="footer">
            <p>KunBox - å¼ºå¤§çš„ Android Sing-box å®¢æˆ·ç«¯</p>
            <p>URL Scheme åŠŸèƒ½å·²å¯ç”¨</p>
        </div>
    </div>

    <script>
        function testCustom() {
            const url = document.getElementById('customUrl').value;
            const name = document.getElementById('customName').value;
            const interval = document.getElementById('customInterval').value;

            if (!url) {
                alert('è¯·è¾“å…¥è®¢é˜…åœ°å€!');
                return;
            }

            // URL ç¼–ç 
            const encodedUrl = encodeURIComponent(url);
            const encodedName = encodeURIComponent(name);

            // æ„å»º URL Scheme
            let scheme = `singbox://install-config?url=${encodedUrl}`;
            if (name) {
                scheme += `&name=${encodedName}`;
            }
            if (interval && parseInt(interval) > 0) {
                scheme += `&interval=${interval}`;
            }

            console.log('Generated URL Scheme:', scheme);

            // è·³è½¬
            window.location.href = scheme;
        }

        // åœ¨æ§åˆ¶å°è¾“å‡ºæµ‹è¯•ä¿¡æ¯
        console.log('KunBox URL Scheme æµ‹è¯•é¡µé¢å·²åŠ è½½');
        console.log('æ”¯æŒçš„ scheme: singbox:// å’Œ kunbox://');
        console.log('æ ¼å¼: scheme://install-config?url=<è®¢é˜…åœ°å€>&name=<åç§°>&interval=<é—´éš”>');
    </script>
</body>
</html>
